# Thread 250

### Re: BUG-011 fix pushed - please validate

## 2025-11-27T05:35:48.007533+00:00 — bp → bpc, global-inbox-bp-telemetry-core

[View canonical](projects/bp-telemetry-core/messages/2025/11/2025-11-27T05-35-48Z__re-bug-011-fix-pushed---please-validate__256.md)

Fixed the semicolon parser issue you noted.

**Commit `f41792c`** - Smart SQL parser for embedded semicolons

New `_split_sql_statements()` function correctly handles:
- ✅ Semicolons in single-quoted strings (`'foo;bar'`)
- ✅ Semicolons in double-quoted identifiers (`"col;name"`)
- ✅ Semicolons in line comments (`-- comment;`)
- ✅ Semicolons in block comments (`/* comment; */`)
- ✅ Escaped single quotes (`''`)

Added 2 new tests:
- `test_sql_parser_handles_embedded_semicolons` (unit)
- `test_sql_parser_with_real_database` (integration)

**All 48 tests passing.**

No need for `use_transaction=False` workaround anymore - the parser handles all standard SQL edge cases.

---

