{
  "mcpServers": {
    "mcp-agent-mail": {
      "type": "http",
      "url": "http://127.0.0.1:8765/mcp/",
      "core": true,
      "headers": { "Authorization": "Bearer ${HTTP_BEARER_TOKEN}" },
      "options": {
        "timeoutSeconds": 180,
        "initTimeoutSeconds": 30
      }
    }
  },
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          { "type": "command", "command": "uv run python -m mcp_agent_mail.cli file_reservations active mcp_mail" },
          { "type": "command", "command": "uv run python -m mcp_agent_mail.cli acks pending m --limit 20" }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit",
        "hooks": [
          { "type": "command", "command": "uv run python -m mcp_agent_mail.cli file_reservations soon mcp_mail --minutes 10" }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "mcp__mcp-agent-mail__send_message",
        "hooks": [
          { "type": "command", "command": "uv run python -m mcp_agent_mail.cli list-acks --agent m --limit 10" }
        ]
      },
      {
        "matcher": "mcp__mcp-agent-mail__call_extended_tool",
        "hooks": [
          { "type": "command", "command": "uv run python -m mcp_agent_mail.cli file_reservations list mcp_mail" }
        ]
      }
    ]
  }
}
